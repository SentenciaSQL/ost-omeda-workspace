<div class="history-container">
  @if (sessions().length === 0) {
    <div class="empty-state">
      <span class="empty-icon">ðŸ’¬</span>
      <p>No chat history yet.</p>
      <p class="empty-hint">Start a conversation and it will appear here.</p>
    </div>
  } @else {
    <div class="session-list">
      @for (session of sessions(); track session.id) {
        <div
          class="session-card"
          [class.active]="session.id === activeSessionId()"
          (click)="loadSession.emit(session.id)"
        >
          <div class="session-header">
            <span class="session-title">{{ session.title }}</span>
            <button
              class="delete-btn"
              title="Delete"
              (click)="onDelete($event, session.id)"
            >
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 6L6 18M6 6l12 12"/>
              </svg>
            </button>
          </div>
          <p class="session-preview">{{ session.preview }}</p>
          <span class="session-date">{{ formatDate(session.updatedAt) }}</span>
        </div>
      }
    </div>
  }
</div>
